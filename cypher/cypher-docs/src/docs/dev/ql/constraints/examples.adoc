[[administration-constraints-examples]]
= Examples

[abstract]
--
Examples of how to manage constraints used for ensuring data integrity.
--

[[administration-constraints-unique-nodes]]
== Unique node property constraints

include::../administration/constraints/create-a-unique-constraint.asciidoc[leveloffset=+1]

include::../administration/constraints/create-a-unique-constraint-only-if-it-does-not-already-exist.asciidoc[leveloffset=+1]

include::../administration/constraints/create-a-unique-constraint-with-specified-index-provider-and-configuration.asciidoc[leveloffset=+1]

include::../administration/constraints/create-a-node-that-complies-with-unique-property-constraints.asciidoc[leveloffset=+1]

include::../administration/constraints/create-a-node-that-violates-a-unique-property-constraint.asciidoc[leveloffset=+1]

include::../administration/constraints/failure-to-create-a-unique-property-constraint-due-to-conflicting-nodes.asciidoc[leveloffset=+1]


[role=enterprise-edition]
[[administration-constraints-prop-exist-nodes]]
== Node property existence constraints

include::../administration/constraints/create-a-node-property-existence-constraint.asciidoc[leveloffset=+1]

include::../administration/constraints/create-a-node-property-existence-constraint-only-if-it-does-not-already-exist.asciidoc[leveloffset=+1]

include::../administration/constraints/create-a-node-that-complies-with-property-existence-constraints.asciidoc[leveloffset=+1]

include::../administration/constraints/create-a-node-that-violates-a-property-existence-constraint.asciidoc[leveloffset=+1]

include::../administration/constraints/removing-an-existence-constrained-node-property.asciidoc[leveloffset=+1]

include::../administration/constraints/failure-to-create-a-node-property-existence-constraint-due-to-existing-node.asciidoc[leveloffset=+1]


[role=enterprise-edition]
[[administration-constraints-prop-exist-rels]]
== Relationship property existence constraints

include::../administration/constraints/create-a-relationship-property-existence-constraint.asciidoc[leveloffset=+1]

include::../administration/constraints/create-a-relationship-property-existence-constraint-only-if-it-does-not-already-exist.asciidoc[leveloffset=+1]

include::../administration/constraints/create-a-relationship-that-complies-with-property-existence-constraints.asciidoc[leveloffset=+1]

include::../administration/constraints/create-a-relationship-that-violates-a-property-existence-constraint.asciidoc[leveloffset=+1]

include::../administration/constraints/removing-an-existence-constrained-relationship-property.asciidoc[leveloffset=+1]

include::../administration/constraints/failure-to-create-a-relationship-property-existence-constraint-due-to-existing-relationship.asciidoc[leveloffset=+1]


[role=enterprise-edition]
[[administration-constraints-node-key]]
== Node key constraints

include::../administration/constraints/create-a-node-key-constraint.asciidoc[leveloffset=+1]

include::../administration/constraints/create-a-node-key-constraint-only-if-it-does-not-already-exist.asciidoc[leveloffset=+1]

include::../administration/constraints/create-a-node-key-constraint-with-specified-index-provider.asciidoc[leveloffset=+1]

include::../administration/constraints/create-a-node-key-constraint-with-specified-index-configuration.asciidoc[leveloffset=+1]

include::../administration/constraints/create-a-node-that-complies-with-node-key-constraints.asciidoc[leveloffset=+1]

include::../administration/constraints/create-a-node-that-violates-a-node-key-constraint.asciidoc[leveloffset=+1]

include::../administration/constraints/removing-a-node-key-constrained-property.asciidoc[leveloffset=+1]

include::../administration/constraints/failure-to-create-a-node-key-constraint-due-to-existing-node.asciidoc[leveloffset=+1]


[[administration-constraints-drop-constraint]]
== Drop a constraint by name

include::../administration/constraints/drop-a-constraint.asciidoc[leveloffset=+1]

include::../administration/constraints/drop-a-non-existing-constraint.asciidoc[leveloffset=+1]


[[administration-constraints-list-constraint]]
== Listing constraints

Listing constraints can be done with `SHOW CONSTRAINTS`, which will produce a table with the following columns:

.List constraints output
[options="header", width="100%", cols="1a,4,^.^,^"]
|===
| Column
| Description
| Default output
| Full output

| `id`
| The id of the constraint.
| `+`
| `+`

| `name`
| Name of the constraint (explicitly set by the user or automatically assigned).
| `+`
| `+`

| `type`
| The ConstraintType of this constraint (`UNIQUENESS`, `NODE_PROPERTY_EXISTENCE`, `NODE_KEY`, or `RELATIONSHIP_PROPERTY_EXISTENCE`).
| `+`
| `+`

| `entityType`
| Type of entities this constraint represents (nodes or relationship).
| `+`
| `+`

| `labelsOrTypes`
| The labels or relationship types of this constraint.
| `+`
| `+`

| `properties`
| The properties of this constraint.
| `+`
| `+`

| `ownedIndexId`
| The id of the index associated to the constraint, or `null` if no index is associated with the constraint.
| `+`
| `+`

| `options`
| The options passed to `CREATE` command, for the index associated to the constraint, or `null` if no index is associated with the constraint.
|
| `+`

| `createStatement`
| Statement used to create the constraint.
|
| `+`
|===

Listing constraints also allows for `WHERE` and `YIELD` clauses to filter the returned rows and columns.

[NOTE]
The deprecated built-in procedures for listing constraints, such as `db.constraints`, work as before and are not affected by the <<administration-security-administration-database-constraints, `SHOW CONSTRAINTS` privilege>>.


=== Listing constraints examples

include::../administration/constraints/listing-all-constraints.asciidoc[leveloffset=+2]

include::../administration/constraints/listing-constraints-with-filtering.asciidoc[leveloffset=+2]


[role=deprecated]
[[administration-constraints-deprecated-syntax]]
== Deprecated syntax

include::../administration/constraints/drop-a-unique-constraint.asciidoc[leveloffset=+1]

include::../administration/constraints/drop-a-node-property-existence-constraint.asciidoc[leveloffset=+1]

include::../administration/constraints/drop-a-relationship-property-existence-constraint.asciidoc[leveloffset=+1]

include::../administration/constraints/drop-a-node-key-constraint.asciidoc[leveloffset=+1]
